{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import{useParams,useSearchParams,useNavigate}from'react-router-dom';import{ArrowLeftIcon,ArrowsPointingOutIcon,ArrowsPointingInIcon,ChatBubbleBottomCenterTextIcon,DocumentTextIcon,UserIcon,SparklesIcon,PaperAirplaneIcon,EyeIcon,XMarkIcon}from'@heroicons/react/24/outline';import{formatDate}from'../utils/helpers';import ScrollIndicator from'../components/ScrollIndicator';import{documentService}from'../services/dataService';// Mock document data - replace with actual API call\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const mockDocument={id:'1',title:'Employment Contract - Tech Company',originalContent:\"EMPLOYMENT AGREEMENT\\n\\nThis Employment Agreement (\\\"Agreement\\\") is entered into as of [DATE], between [COMPANY NAME], a Delaware corporation (\\\"Company\\\"), and [EMPLOYEE NAME], an individual (\\\"Employee\\\").\\n\\nWHEREAS, Company desires to employ Employee on the terms and conditions set forth herein; and\\nWHEREAS, Employee desires to be employed by Company on such terms and conditions;\\n\\nNOW, THEREFORE, in consideration of the mutual covenants and agreements contained herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the parties agree as follows:\\n\\n1. EMPLOYMENT AND DUTIES\\nEmployee shall serve as [POSITION TITLE] and shall have such powers, duties, and responsibilities as may be prescribed by Company's Board of Directors or Chief Executive Officer. Employee agrees to devote Employee's full business time and attention to the performance of Employee's duties hereunder.\\n\\n2. TERM\\nThis Agreement shall commence on [START DATE] and shall continue until terminated in accordance with the provisions hereof.\\n\\n3. COMPENSATION\\nAs compensation for Employee's services hereunder, Company shall pay Employee a base salary of $[AMOUNT] per annum, payable in accordance with Company's regular payroll practices.\\n\\n4. CONFIDENTIALITY\\nEmployee acknowledges that Employee may have access to certain confidential and proprietary information of Company. Employee agrees to maintain the confidentiality of such information and not to disclose it to any third party.\\n\\n5. TERMINATION\\nThis Agreement may be terminated by either party upon thirty (30) days written notice to the other party. Upon termination, Employee shall return all Company property and cease all activities on behalf of the Company.\",simplifiedContent:\"EMPLOYMENT AGREEMENT - SIMPLIFIED VERSION\\n\\nThis is an employment contract between you and the company.\\n\\nKEY POINTS:\\n\\nWhat this contract is about:\\n\\u2022 The company wants to hire you for a specific job\\n\\u2022 You want to work for the company\\n\\u2022 This contract explains the rules for your employment\\n\\nYour Job (Section 1):\\n\\u2022 You will work as [POSITION TITLE]\\n\\u2022 Your boss and the company's leaders will tell you what to do\\n\\u2022 You need to focus all your work time on this job\\n\\nHow Long This Lasts (Section 2):\\n\\u2022 Your job starts on [START DATE]\\n\\u2022 It continues until either you quit or the company lets you go (following the rules in this contract)\\n\\nYour Pay (Section 3):\\n\\u2022 The company will pay you $[AMOUNT] per year\\n\\u2022 You'll get paid according to the company's normal schedule (like every two weeks)\\n\\nKeeping Secrets (Section 4):\\n\\u2022 You might learn company secrets while working\\n\\u2022 You cannot tell these secrets to anyone outside the company\\n\\u2022 This protects the company's private information\\n\\nLeaving Your Job (Section 5):\\n\\u2022 Either you or the company can end your job\\n\\u2022 You both need to give 30 days notice before ending it\\n\\u2022 When you leave, you must return anything that belongs to the company\\n\\u2022 You must stop doing work for the company\\n\\nIMPORTANT: This is a simplified explanation. The original legal document contains more details and specific legal terms that may be important for your situation.\",uploadDate:new Date('2024-01-15'),status:'completed',fileType:'application/pdf',fileSize:2048000,summary:'Employment agreement with standard terms and benefits',complexity:'medium'};const mockMessages=[{id:'1',content:\"Hi! I can help you understand this employment contract. I've analyzed the document and can explain any section in simple terms. What would you like to know?\",sender:'ai',timestamp:new Date()}];const DocumentWorkspace=()=>{const{id}=useParams();const[searchParams]=useSearchParams();const navigate=useNavigate();const[document,setDocument]=useState(null);const[loading,setLoading]=useState(true);const[fullscreenView,setFullscreenView]=useState('none');const[chatOpen,setChatOpen]=useState(true);const[messages,setMessages]=useState(mockMessages);const[inputMessage,setInputMessage]=useState('');const[isLoadingResponse,setIsLoadingResponse]=useState(false);const[scrollPercentage,setScrollPercentage]=useState(0);const[showScrollIndicator,setShowScrollIndicator]=useState(false);// Refs for synchronized scrolling\nconst originalContentRef=useRef(null);const simplifiedContentRef=useRef(null);const messagesEndRef=useRef(null);const isScrolling=useRef(false);// Load document data\nuseEffect(()=>{const loadDocument=async()=>{if(!id)return;try{const{document,error}=await documentService.getDocument(id);if(error){console.error('Error loading document:',error);}else if(document){setDocument(document);}}catch(err){console.error('Error loading document:',err);}finally{setLoading(false);}};loadDocument();},[id]);// Scroll to bottom of chat when new messages arrive\nuseEffect(()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});},[messages]);// Synchronized scrolling functionality\nconst handleScroll=useCallback(source=>{if(isScrolling.current||fullscreenView!=='none')return;isScrolling.current=true;setShowScrollIndicator(true);const sourceRef=source==='original'?originalContentRef:simplifiedContentRef;const targetRef=source==='original'?simplifiedContentRef:originalContentRef;if(sourceRef.current&&targetRef.current){const currentScrollPercentage=sourceRef.current.scrollTop/(sourceRef.current.scrollHeight-sourceRef.current.clientHeight);setScrollPercentage(currentScrollPercentage*100);targetRef.current.scrollTop=currentScrollPercentage*(targetRef.current.scrollHeight-targetRef.current.clientHeight);}// Hide scroll indicator after a delay\nsetTimeout(()=>{setShowScrollIndicator(false);},1000);setTimeout(()=>{isScrolling.current=false;},100);},[fullscreenView]);const sendMessage=async()=>{if(!inputMessage.trim()||isLoadingResponse)return;const userMessage={id:Date.now().toString(),content:inputMessage,sender:'user',timestamp:new Date(),documentId:document===null||document===void 0?void 0:document.id};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsLoadingResponse(true);// Simulate AI response\nsetTimeout(()=>{const aiResponse={id:(Date.now()+1).toString(),content:generateMockResponse(inputMessage),sender:'ai',timestamp:new Date(),documentId:document===null||document===void 0?void 0:document.id,references:[{id:(document===null||document===void 0?void 0:document.id)||'',title:(document===null||document===void 0?void 0:document.title)||'',relevantSection:'Section 4: Confidentiality',confidence:0.85}]};setMessages(prev=>[...prev,aiResponse]);setIsLoadingResponse(false);},1500);};const generateMockResponse=question=>{const lowerQuestion=question.toLowerCase();if(lowerQuestion.includes('confidentiality')||lowerQuestion.includes('secret')){return\"Great question about confidentiality! In Section 4 of your contract, this means:\\n\\n**Key Points:**\\n\\u2022 You cannot share the company's private business information\\n\\u2022 This includes trade secrets, client lists, financial data\\n\\u2022 The obligation continues even after you leave\\n\\u2022 Breaking confidentiality can result in legal action\\n\\n**In Simple Terms:**\\nThink of it like keeping a friend's secret - but with legal consequences. The company trusts you with sensitive information to do your job.\";}if(lowerQuestion.includes('terminate')||lowerQuestion.includes('fired')||lowerQuestion.includes('leave')){return\"Looking at Section 5 (Termination) in your contract:\\n\\n**How Employment Can End:**\\n\\u2022 Either you or the company can end the relationship\\n\\u2022 Both parties must give 30 days written notice\\n\\u2022 When you leave, return all company property\\n\\u2022 You must stop all work activities for the company\\n\\n**What This Means:**\\nYou have protection - they can't just fire you immediately without notice (unless for serious misconduct). You also can't just quit without giving notice.\";}return\"I can help explain that part of your contract! Based on your question about \\\"\".concat(question,\"\\\", here's what you should know:\\n\\nThis relates to the standard employment terms that protect both you and the company. Each section has specific legal implications for your working relationship.\\n\\nWould you like me to point you to the specific section that covers this, or explain any particular terms in more detail?\");};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();sendMessage();}};if(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-legal-600\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2 text-gray-600\",children:\"Loading document...\"})]});}if(!document){return/*#__PURE__*/_jsx(\"div\",{className:\"h-full flex items-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900\",children:\"Document not found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"The document you're looking for doesn't exist.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>navigate('/documents'),className:\"mt-4 btn-primary\",children:\"Back to Documents\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"h-full flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>navigate('/documents'),className:\"inline-flex items-center text-sm text-gray-500 hover:text-gray-700\",children:[/*#__PURE__*/_jsx(ArrowLeftIcon,{className:\"h-4 w-4 mr-1\"}),\"Back to Documents\"]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-xl font-bold text-gray-900\",children:document.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500\",children:[\"Uploaded \",formatDate(document.createdAt)]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[fullscreenView==='none'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFullscreenView('original'),className:\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\",title:\"Fullscreen Original\",children:/*#__PURE__*/_jsx(ArrowsPointingOutIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFullscreenView('simplified'),className:\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\",title:\"Fullscreen Simplified\",children:/*#__PURE__*/_jsx(EyeIcon,{className:\"h-5 w-5\"})})]}),fullscreenView!=='none'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setFullscreenView('none'),className:\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\",title:\"Exit Fullscreen\",children:/*#__PURE__*/_jsx(ArrowsPointingInIcon,{className:\"h-5 w-5\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setChatOpen(!chatOpen),className:\"p-2 rounded-lg \".concat(chatOpen?'bg-legal-100 text-legal-600':'text-gray-400 hover:text-gray-600 hover:bg-gray-100'),title:\"Toggle Chat\",children:/*#__PURE__*/_jsx(ChatBubbleBottomCenterTextIcon,{className:\"h-5 w-5\"})})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex overflow-hidden\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex \".concat(chatOpen?'mr-80':'',\" transition-all duration-300\"),children:[fullscreenView==='none'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col border-r border-gray-200 relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-4 py-2 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700\",children:\"Original Document\"})}),/*#__PURE__*/_jsxs(\"div\",{ref:originalContentRef,className:\"flex-1 overflow-y-auto p-6 relative\",onScroll:()=>handleScroll('original'),children:[/*#__PURE__*/_jsx(ScrollIndicator,{scrollPercentage:scrollPercentage,isVisible:showScrollIndicator&&fullscreenView==='none'}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-sm text-gray-900 font-mono leading-relaxed\",children:document.originalContent})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col relative\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-legal-50 px-4 py-2 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-legal-700\",children:\"Simplified Version\"})}),/*#__PURE__*/_jsxs(\"div\",{ref:simplifiedContentRef,className:\"flex-1 overflow-y-auto p-6 relative\",onScroll:()=>handleScroll('simplified'),children:[/*#__PURE__*/_jsx(ScrollIndicator,{scrollPercentage:scrollPercentage,isVisible:showScrollIndicator&&fullscreenView==='none'}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-legal-200 p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"prose prose-sm max-w-none\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-sm text-gray-900 leading-relaxed\",children:document.simplifiedContent})})})]})]})]}),fullscreenView==='original'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 px-4 py-2 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700\",children:\"Original Document (Fullscreen)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-base text-gray-900 font-mono leading-relaxed\",children:document.originalContent})})})]}),fullscreenView==='simplified'&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-legal-50 px-4 py-2 border-b border-gray-200\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-legal-700\",children:\"Simplified Version (Fullscreen)\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 overflow-y-auto p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-white rounded-lg shadow-sm border border-legal-200 p-6 max-w-4xl mx-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"prose max-w-none\",children:/*#__PURE__*/_jsx(\"pre\",{className:\"whitespace-pre-wrap text-base text-gray-900 leading-relaxed\",children:document.simplifiedContent})})})})]})]}),chatOpen&&/*#__PURE__*/_jsxs(\"div\",{className:\"w-80 bg-white border-l border-gray-200 flex flex-col fixed right-0 top-16 bottom-0 z-30\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 bg-legal-50 px-4 py-3 border-b border-legal-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-legal-700\",children:\"Document Chat\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setChatOpen(false),className:\"p-1 text-legal-400 hover:text-legal-600\",children:/*#__PURE__*/_jsx(XMarkIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-legal-600 mt-1\",children:\"Ask questions about this document\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.sender==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 max-w-[85%] \".concat(message.sender==='user'?'flex-row-reverse space-x-reverse':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center \".concat(message.sender==='user'?'bg-legal-100':'bg-blue-100'),children:message.sender==='user'?/*#__PURE__*/_jsx(UserIcon,{className:\"h-4 w-4 text-legal-600\"}):/*#__PURE__*/_jsx(SparklesIcon,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 \".concat(message.sender==='user'?'text-right':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block p-3 rounded-lg text-sm \".concat(message.sender==='user'?'bg-legal-600 text-white':'bg-gray-100 text-gray-900'),children:/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap leading-relaxed\",children:message.content})}),message.references&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:message.references.map((ref,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-legal-50 rounded-lg p-2 border border-legal-200\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(DocumentTextIcon,{className:\"h-3 w-3 text-legal-600 mr-1 flex-shrink-0\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-medium text-legal-900 truncate\",children:ref.relevantSection})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-legal-600 mt-1\",children:[Math.round(ref.confidence*100),\"% relevance\"]})]},index))}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs text-gray-500 mt-1 \".concat(message.sender==='user'?'text-right':'text-left'),children:formatDate(message.timestamp)})]})]})},message.id)),isLoadingResponse&&/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2 max-w-[85%]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center bg-blue-100\",children:/*#__PURE__*/_jsx(SparklesIcon,{className:\"h-4 w-4 text-blue-600\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-shrink-0 border-t border-gray-200 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask about this document...\",className:\"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-legal-500 focus:border-legal-500\",rows:2,disabled:isLoadingResponse}),/*#__PURE__*/_jsx(\"button\",{onClick:sendMessage,disabled:!inputMessage.trim()||isLoadingResponse,className:\"flex-shrink-0 inline-flex items-center justify-center w-10 h-10 rounded-lg bg-legal-600 text-white hover:bg-legal-700 focus:outline-none focus:ring-2 focus:ring-legal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\",children:/*#__PURE__*/_jsx(PaperAirplaneIcon,{className:\"h-4 w-4\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-1\",children:[\"Explain confidentiality\",\"Termination terms\",\"My rights\"].map(suggestion=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setInputMessage(suggestion),className:\"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full transition-colors\",disabled:isLoadingResponse,children:suggestion},suggestion))})})]})]})]})]});};export default DocumentWorkspace;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useParams","useSearchParams","useNavigate","ArrowLeftIcon","ArrowsPointingOutIcon","ArrowsPointingInIcon","ChatBubbleBottomCenterTextIcon","DocumentTextIcon","UserIcon","SparklesIcon","PaperAirplaneIcon","EyeIcon","XMarkIcon","formatDate","ScrollIndicator","documentService","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","mockDocument","id","title","originalContent","simplifiedContent","uploadDate","Date","status","fileType","fileSize","summary","complexity","mockMessages","content","sender","timestamp","DocumentWorkspace","searchParams","navigate","document","setDocument","loading","setLoading","fullscreenView","setFullscreenView","chatOpen","setChatOpen","messages","setMessages","inputMessage","setInputMessage","isLoadingResponse","setIsLoadingResponse","scrollPercentage","setScrollPercentage","showScrollIndicator","setShowScrollIndicator","originalContentRef","simplifiedContentRef","messagesEndRef","isScrolling","loadDocument","error","getDocument","console","err","_messagesEndRef$curre","current","scrollIntoView","behavior","handleScroll","source","sourceRef","targetRef","currentScrollPercentage","scrollTop","scrollHeight","clientHeight","setTimeout","sendMessage","trim","userMessage","now","toString","documentId","prev","aiResponse","generateMockResponse","references","relevantSection","confidence","question","lowerQuestion","toLowerCase","includes","concat","handleKeyPress","e","key","shiftKey","preventDefault","className","children","onClick","createdAt","ref","onScroll","isVisible","map","message","index","Math","round","style","animationDelay","value","onChange","target","onKeyPress","placeholder","rows","disabled","suggestion"],"sources":["/Users/azrayje/Documents/doculaw-ai/frontend/src/pages/DocumentWorkspace.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useParams, useSearchParams, useNavigate } from 'react-router-dom';\nimport {\n  ArrowLeftIcon,\n  ArrowsPointingOutIcon,\n  ArrowsPointingInIcon,\n  ChatBubbleBottomCenterTextIcon,\n  DocumentTextIcon,\n  UserIcon,\n  SparklesIcon,\n  PaperAirplaneIcon,\n  EyeIcon,\n  XMarkIcon,\n} from '@heroicons/react/24/outline';\nimport { Document, ChatMessage } from '../types';\nimport { formatDate } from '../utils/helpers';\nimport ScrollIndicator from '../components/ScrollIndicator';\nimport { documentService, chatService, type DocumentData, type ChatMessageData } from '../services/dataService';\n\n// Mock document data - replace with actual API call\nconst mockDocument: Document = {\n  id: '1',\n  title: 'Employment Contract - Tech Company',\n  originalContent: `EMPLOYMENT AGREEMENT\n\nThis Employment Agreement (\"Agreement\") is entered into as of [DATE], between [COMPANY NAME], a Delaware corporation (\"Company\"), and [EMPLOYEE NAME], an individual (\"Employee\").\n\nWHEREAS, Company desires to employ Employee on the terms and conditions set forth herein; and\nWHEREAS, Employee desires to be employed by Company on such terms and conditions;\n\nNOW, THEREFORE, in consideration of the mutual covenants and agreements contained herein, and for other good and valuable consideration, the receipt and sufficiency of which are hereby acknowledged, the parties agree as follows:\n\n1. EMPLOYMENT AND DUTIES\nEmployee shall serve as [POSITION TITLE] and shall have such powers, duties, and responsibilities as may be prescribed by Company's Board of Directors or Chief Executive Officer. Employee agrees to devote Employee's full business time and attention to the performance of Employee's duties hereunder.\n\n2. TERM\nThis Agreement shall commence on [START DATE] and shall continue until terminated in accordance with the provisions hereof.\n\n3. COMPENSATION\nAs compensation for Employee's services hereunder, Company shall pay Employee a base salary of $[AMOUNT] per annum, payable in accordance with Company's regular payroll practices.\n\n4. CONFIDENTIALITY\nEmployee acknowledges that Employee may have access to certain confidential and proprietary information of Company. Employee agrees to maintain the confidentiality of such information and not to disclose it to any third party.\n\n5. TERMINATION\nThis Agreement may be terminated by either party upon thirty (30) days written notice to the other party. Upon termination, Employee shall return all Company property and cease all activities on behalf of the Company.`,\n  \n  simplifiedContent: `EMPLOYMENT AGREEMENT - SIMPLIFIED VERSION\n\nThis is an employment contract between you and the company.\n\nKEY POINTS:\n\nWhat this contract is about:\n• The company wants to hire you for a specific job\n• You want to work for the company\n• This contract explains the rules for your employment\n\nYour Job (Section 1):\n• You will work as [POSITION TITLE]\n• Your boss and the company's leaders will tell you what to do\n• You need to focus all your work time on this job\n\nHow Long This Lasts (Section 2):\n• Your job starts on [START DATE]\n• It continues until either you quit or the company lets you go (following the rules in this contract)\n\nYour Pay (Section 3):\n• The company will pay you $[AMOUNT] per year\n• You'll get paid according to the company's normal schedule (like every two weeks)\n\nKeeping Secrets (Section 4):\n• You might learn company secrets while working\n• You cannot tell these secrets to anyone outside the company\n• This protects the company's private information\n\nLeaving Your Job (Section 5):\n• Either you or the company can end your job\n• You both need to give 30 days notice before ending it\n• When you leave, you must return anything that belongs to the company\n• You must stop doing work for the company\n\nIMPORTANT: This is a simplified explanation. The original legal document contains more details and specific legal terms that may be important for your situation.`,\n  \n  uploadDate: new Date('2024-01-15'),\n  status: 'completed',\n  fileType: 'application/pdf',\n  fileSize: 2048000,\n  summary: 'Employment agreement with standard terms and benefits',\n  complexity: 'medium',\n};\n\nconst mockMessages: ChatMessage[] = [\n  {\n    id: '1',\n    content: `Hi! I can help you understand this employment contract. I've analyzed the document and can explain any section in simple terms. What would you like to know?`,\n    sender: 'ai',\n    timestamp: new Date(),\n  },\n];\n\nconst DocumentWorkspace: React.FC = () => {\n  const { id } = useParams<{ id: string }>();\n  const [searchParams] = useSearchParams();\n  const navigate = useNavigate();\n  \n  const [document, setDocument] = useState<DocumentData | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [fullscreenView, setFullscreenView] = useState<'none' | 'original' | 'simplified'>('none');\n  const [chatOpen, setChatOpen] = useState(true);\n  const [messages, setMessages] = useState<ChatMessage[]>(mockMessages);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isLoadingResponse, setIsLoadingResponse] = useState(false);\n  const [scrollPercentage, setScrollPercentage] = useState(0);\n  const [showScrollIndicator, setShowScrollIndicator] = useState(false);\n  \n  // Refs for synchronized scrolling\n  const originalContentRef = useRef<HTMLDivElement>(null);\n  const simplifiedContentRef = useRef<HTMLDivElement>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const isScrolling = useRef(false);\n\n  // Load document data\n  useEffect(() => {\n    const loadDocument = async () => {\n      if (!id) return;\n      \n      try {\n        const { document, error } = await documentService.getDocument(id);\n        \n        if (error) {\n          console.error('Error loading document:', error);\n        } else if (document) {\n          setDocument(document);\n        }\n      } catch (err) {\n        console.error('Error loading document:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    loadDocument();\n  }, [id]);\n\n  // Scroll to bottom of chat when new messages arrive\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  }, [messages]);\n\n  // Synchronized scrolling functionality\n  const handleScroll = useCallback((source: 'original' | 'simplified') => {\n    if (isScrolling.current || fullscreenView !== 'none') return;\n    \n    isScrolling.current = true;\n    setShowScrollIndicator(true);\n    \n    const sourceRef = source === 'original' ? originalContentRef : simplifiedContentRef;\n    const targetRef = source === 'original' ? simplifiedContentRef : originalContentRef;\n    \n    if (sourceRef.current && targetRef.current) {\n      const currentScrollPercentage = sourceRef.current.scrollTop / \n        (sourceRef.current.scrollHeight - sourceRef.current.clientHeight);\n      \n      setScrollPercentage(currentScrollPercentage * 100);\n      \n      targetRef.current.scrollTop = currentScrollPercentage * \n        (targetRef.current.scrollHeight - targetRef.current.clientHeight);\n    }\n    \n    // Hide scroll indicator after a delay\n    setTimeout(() => {\n      setShowScrollIndicator(false);\n    }, 1000);\n    \n    setTimeout(() => {\n      isScrolling.current = false;\n    }, 100);\n  }, [fullscreenView]);\n\n  const sendMessage = async () => {\n    if (!inputMessage.trim() || isLoadingResponse) return;\n\n    const userMessage: ChatMessage = {\n      id: Date.now().toString(),\n      content: inputMessage,\n      sender: 'user',\n      timestamp: new Date(),\n      documentId: document?.id,\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsLoadingResponse(true);\n\n    // Simulate AI response\n    setTimeout(() => {\n      const aiResponse: ChatMessage = {\n        id: (Date.now() + 1).toString(),\n        content: generateMockResponse(inputMessage),\n        sender: 'ai',\n        timestamp: new Date(),\n        documentId: document?.id,\n        references: [\n          {\n            id: document?.id || '',\n            title: document?.title || '',\n            relevantSection: 'Section 4: Confidentiality',\n            confidence: 0.85,\n          }\n        ],\n      };\n      \n      setMessages(prev => [...prev, aiResponse]);\n      setIsLoadingResponse(false);\n    }, 1500);\n  };\n\n  const generateMockResponse = (question: string): string => {\n    const lowerQuestion = question.toLowerCase();\n    \n    if (lowerQuestion.includes('confidentiality') || lowerQuestion.includes('secret')) {\n      return `Great question about confidentiality! In Section 4 of your contract, this means:\n\n**Key Points:**\n• You cannot share the company's private business information\n• This includes trade secrets, client lists, financial data\n• The obligation continues even after you leave\n• Breaking confidentiality can result in legal action\n\n**In Simple Terms:**\nThink of it like keeping a friend's secret - but with legal consequences. The company trusts you with sensitive information to do your job.`;\n    }\n    \n    if (lowerQuestion.includes('terminate') || lowerQuestion.includes('fired') || lowerQuestion.includes('leave')) {\n      return `Looking at Section 5 (Termination) in your contract:\n\n**How Employment Can End:**\n• Either you or the company can end the relationship\n• Both parties must give 30 days written notice\n• When you leave, return all company property\n• You must stop all work activities for the company\n\n**What This Means:**\nYou have protection - they can't just fire you immediately without notice (unless for serious misconduct). You also can't just quit without giving notice.`;\n    }\n    \n    return `I can help explain that part of your contract! Based on your question about \"${question}\", here's what you should know:\n\nThis relates to the standard employment terms that protect both you and the company. Each section has specific legal implications for your working relationship.\n\nWould you like me to point you to the specific section that covers this, or explain any particular terms in more detail?`;\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      sendMessage();\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"h-full flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-legal-600\"></div>\n        <span className=\"ml-2 text-gray-600\">Loading document...</span>\n      </div>\n    );\n  }\n\n  if (!document) {\n    return (\n      <div className=\"h-full flex items-center justify-center\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">Document not found</h2>\n          <p className=\"mt-2 text-gray-600\">The document you're looking for doesn't exist.</p>\n          <button\n            onClick={() => navigate('/documents')}\n            className=\"mt-4 btn-primary\"\n          >\n            Back to Documents\n          </button>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-full flex flex-col\">\n      {/* Header */}\n      <div className=\"flex-shrink-0 bg-white border-b border-gray-200 px-4 sm:px-6 py-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-4\">\n            <button\n              onClick={() => navigate('/documents')}\n              className=\"inline-flex items-center text-sm text-gray-500 hover:text-gray-700\"\n            >\n              <ArrowLeftIcon className=\"h-4 w-4 mr-1\" />\n              Back to Documents\n            </button>\n            <div>\n              <h1 className=\"text-xl font-bold text-gray-900\">{document.title}</h1>\n              <p className=\"text-sm text-gray-500\">Uploaded {formatDate(document.createdAt)}</p>\n            </div>\n          </div>\n          \n          <div className=\"flex items-center space-x-2\">\n            {/* Fullscreen controls */}\n            {fullscreenView === 'none' && (\n              <>\n                <button\n                  onClick={() => setFullscreenView('original')}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\"\n                  title=\"Fullscreen Original\"\n                >\n                  <ArrowsPointingOutIcon className=\"h-5 w-5\" />\n                </button>\n                <button\n                  onClick={() => setFullscreenView('simplified')}\n                  className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\"\n                  title=\"Fullscreen Simplified\"\n                >\n                  <EyeIcon className=\"h-5 w-5\" />\n                </button>\n              </>\n            )}\n            \n            {fullscreenView !== 'none' && (\n              <button\n                onClick={() => setFullscreenView('none')}\n                className=\"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg\"\n                title=\"Exit Fullscreen\"\n              >\n                <ArrowsPointingInIcon className=\"h-5 w-5\" />\n              </button>\n            )}\n            \n            {/* Chat toggle */}\n            <button\n              onClick={() => setChatOpen(!chatOpen)}\n              className={`p-2 rounded-lg ${chatOpen ? 'bg-legal-100 text-legal-600' : 'text-gray-400 hover:text-gray-600 hover:bg-gray-100'}`}\n              title=\"Toggle Chat\"\n            >\n              <ChatBubbleBottomCenterTextIcon className=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"flex-1 flex overflow-hidden\">\n        {/* Document Viewing Area */}\n        <div className={`flex-1 flex ${chatOpen ? 'mr-80' : ''} transition-all duration-300`}>\n          {fullscreenView === 'none' && (\n            <>\n              {/* Original Document */}\n              <div className=\"flex-1 flex flex-col border-r border-gray-200 relative\">\n                <div className=\"bg-gray-50 px-4 py-2 border-b border-gray-200\">\n                  <h3 className=\"text-sm font-medium text-gray-700\">Original Document</h3>\n                </div>\n                <div\n                  ref={originalContentRef}\n                  className=\"flex-1 overflow-y-auto p-6 relative\"\n                  onScroll={() => handleScroll('original')}\n                >\n                  <ScrollIndicator \n                    scrollPercentage={scrollPercentage} \n                    isVisible={showScrollIndicator && fullscreenView === 'none'} \n                  />\n                  <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\n                    <pre className=\"whitespace-pre-wrap text-sm text-gray-900 font-mono leading-relaxed\">\n                      {document.originalContent}\n                    </pre>\n                  </div>\n                </div>\n              </div>\n\n              {/* Simplified Document */}\n              <div className=\"flex-1 flex flex-col relative\">\n                <div className=\"bg-legal-50 px-4 py-2 border-b border-gray-200\">\n                  <h3 className=\"text-sm font-medium text-legal-700\">Simplified Version</h3>\n                </div>\n                <div\n                  ref={simplifiedContentRef}\n                  className=\"flex-1 overflow-y-auto p-6 relative\"\n                  onScroll={() => handleScroll('simplified')}\n                >\n                  <ScrollIndicator \n                    scrollPercentage={scrollPercentage} \n                    isVisible={showScrollIndicator && fullscreenView === 'none'} \n                  />\n                  <div className=\"bg-white rounded-lg shadow-sm border border-legal-200 p-6\">\n                    <div className=\"prose prose-sm max-w-none\">\n                      <pre className=\"whitespace-pre-wrap text-sm text-gray-900 leading-relaxed\">\n                        {document.simplifiedContent}\n                      </pre>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </>\n          )}\n\n          {/* Fullscreen Original */}\n          {fullscreenView === 'original' && (\n            <div className=\"flex-1 flex flex-col\">\n              <div className=\"bg-gray-50 px-4 py-2 border-b border-gray-200\">\n                <h3 className=\"text-sm font-medium text-gray-700\">Original Document (Fullscreen)</h3>\n              </div>\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6 max-w-4xl mx-auto\">\n                  <pre className=\"whitespace-pre-wrap text-base text-gray-900 font-mono leading-relaxed\">\n                    {document.originalContent}\n                  </pre>\n                </div>\n              </div>\n            </div>\n          )}\n\n          {/* Fullscreen Simplified */}\n          {fullscreenView === 'simplified' && (\n            <div className=\"flex-1 flex flex-col\">\n              <div className=\"bg-legal-50 px-4 py-2 border-b border-gray-200\">\n                <h3 className=\"text-sm font-medium text-legal-700\">Simplified Version (Fullscreen)</h3>\n              </div>\n              <div className=\"flex-1 overflow-y-auto p-6\">\n                <div className=\"bg-white rounded-lg shadow-sm border border-legal-200 p-6 max-w-4xl mx-auto\">\n                  <div className=\"prose max-w-none\">\n                    <pre className=\"whitespace-pre-wrap text-base text-gray-900 leading-relaxed\">\n                      {document.simplifiedContent}\n                    </pre>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n\n        {/* Chat Sidebar */}\n        {chatOpen && (\n          <div className=\"w-80 bg-white border-l border-gray-200 flex flex-col fixed right-0 top-16 bottom-0 z-30\">\n            {/* Chat Header */}\n            <div className=\"flex-shrink-0 bg-legal-50 px-4 py-3 border-b border-legal-200\">\n              <div className=\"flex items-center justify-between\">\n                <h3 className=\"text-sm font-medium text-legal-700\">Document Chat</h3>\n                <button\n                  onClick={() => setChatOpen(false)}\n                  className=\"p-1 text-legal-400 hover:text-legal-600\"\n                >\n                  <XMarkIcon className=\"h-4 w-4\" />\n                </button>\n              </div>\n              <p className=\"text-xs text-legal-600 mt-1\">Ask questions about this document</p>\n            </div>\n\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {messages.map((message) => (\n                <div\n                  key={message.id}\n                  className={`flex ${message.sender === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div className={`flex items-start space-x-2 max-w-[85%] ${message.sender === 'user' ? 'flex-row-reverse space-x-reverse' : ''}`}>\n                    <div className={`flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center ${\n                      message.sender === 'user' ? 'bg-legal-100' : 'bg-blue-100'\n                    }`}>\n                      {message.sender === 'user' ? (\n                        <UserIcon className=\"h-4 w-4 text-legal-600\" />\n                      ) : (\n                        <SparklesIcon className=\"h-4 w-4 text-blue-600\" />\n                      )}\n                    </div>\n                    \n                    <div className={`flex-1 ${message.sender === 'user' ? 'text-right' : ''}`}>\n                      <div className={`inline-block p-3 rounded-lg text-sm ${\n                        message.sender === 'user'\n                          ? 'bg-legal-600 text-white'\n                          : 'bg-gray-100 text-gray-900'\n                      }`}>\n                        <div className=\"whitespace-pre-wrap leading-relaxed\">\n                          {message.content}\n                        </div>\n                      </div>\n                      \n                      {/* References */}\n                      {message.references && (\n                        <div className=\"mt-2\">\n                          {message.references.map((ref, index) => (\n                            <div key={index} className=\"bg-legal-50 rounded-lg p-2 border border-legal-200\">\n                              <div className=\"flex items-center\">\n                                <DocumentTextIcon className=\"h-3 w-3 text-legal-600 mr-1 flex-shrink-0\" />\n                                <span className=\"text-xs font-medium text-legal-900 truncate\">{ref.relevantSection}</span>\n                              </div>\n                              <div className=\"text-xs text-legal-600 mt-1\">\n                                {Math.round(ref.confidence * 100)}% relevance\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                      \n                      <div className={`text-xs text-gray-500 mt-1 ${\n                        message.sender === 'user' ? 'text-right' : 'text-left'\n                      }`}>\n                        {formatDate(message.timestamp)}\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              ))}\n              \n              {/* Loading indicator */}\n              {isLoadingResponse && (\n                <div className=\"flex justify-start\">\n                  <div className=\"flex items-start space-x-2 max-w-[85%]\">\n                    <div className=\"flex-shrink-0 w-6 h-6 rounded-full flex items-center justify-center bg-blue-100\">\n                      <SparklesIcon className=\"h-4 w-4 text-blue-600\" />\n                    </div>\n                    <div className=\"bg-gray-100 rounded-lg p-3\">\n                      <div className=\"flex space-x-1\">\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              )}\n              \n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input Area */}\n            <div className=\"flex-shrink-0 border-t border-gray-200 p-4\">\n              <div className=\"flex space-x-2\">\n                <textarea\n                  value={inputMessage}\n                  onChange={(e) => setInputMessage(e.target.value)}\n                  onKeyPress={handleKeyPress}\n                  placeholder=\"Ask about this document...\"\n                  className=\"flex-1 resize-none border border-gray-300 rounded-lg px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-legal-500 focus:border-legal-500\"\n                  rows={2}\n                  disabled={isLoadingResponse}\n                />\n                <button\n                  onClick={sendMessage}\n                  disabled={!inputMessage.trim() || isLoadingResponse}\n                  className=\"flex-shrink-0 inline-flex items-center justify-center w-10 h-10 rounded-lg bg-legal-600 text-white hover:bg-legal-700 focus:outline-none focus:ring-2 focus:ring-legal-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed\"\n                >\n                  <PaperAirplaneIcon className=\"h-4 w-4\" />\n                </button>\n              </div>\n              \n              {/* Quick suggestions */}\n              <div className=\"mt-2\">\n                <div className=\"flex flex-wrap gap-1\">\n                  {[\n                    \"Explain confidentiality\",\n                    \"Termination terms\",\n                    \"My rights\"\n                  ].map((suggestion) => (\n                    <button\n                      key={suggestion}\n                      onClick={() => setInputMessage(suggestion)}\n                      className=\"text-xs bg-gray-100 hover:bg-gray-200 text-gray-700 px-2 py-1 rounded-full transition-colors\"\n                      disabled={isLoadingResponse}\n                    >\n                      {suggestion}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DocumentWorkspace; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}